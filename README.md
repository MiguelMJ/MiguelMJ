<h2 align="center">Hi, I'm Miguel</h2>

:page_facing_up: **About**

- My favorite tools are C++, SFML, and Flex & Bison. I also use Bash, Java and Python.

- Currently I'm learning Prolog and _web development_. I plan to eventually learn R, Matlab or Octave.

- My general areas of interests are <i>:robot: Chatbots :gear: Game Engines :brain: Machine LearningÂ :speaking_head: NLP</i>.

:mailbox: **Contact me**

- E-mail: miguelmejiajimenez@hotmail.com

- Find me on: [![Twitter](https://img.shields.io/badge/-Twitter-1DA1F2?style=flat-square&logo=twitter&logoColor=white)](https://twitter.com/MiguelMJdev) [![LinkedIn](https://img.shields.io/badge/-LinkedIn-0077B5?style=flat-square&logo=linkedin&logoColor=white)](https://www.linkedin.com/in/miguel-mej%C3%ADa-jim%C3%A9nez/?locale=en_US) [![Stack Overflow](https://img.shields.io/badge/-Stack_Overflow-FE7A16?style=flat-square&logo=stack-overflow&logoColor=white)](https://stackoverflow.com/users/8757033) [![buy me a coffee](https://img.shields.io/badge/-buy_me_a_coffe-FF813F?style=flat-square&logo=buy-me-a-coffee&logoColor=white)](https://www.buymeacoffee.com/miguelmj)

- I keep a weekly blog in [![DEV](https://img.shields.io/badge/-DEV-black?&style=flat-square&logo=dev.to&logoColor=white)](https://dev.to/miguelmj) and other stuff in my [personal site](https://miguelmj.github.io).

:writing_hand: **Latest blog posts**

<!-- BLOG-POST-LIST:START -->
:writing_hand: [Tue Dec 01 2020 8:45 AM] [5 Tips for programming and CS remote teachers](https://dev.to/miguelmj/5-tips-for-programming-and-cs-remote-teachers-1gg7)
<p>As a university student and a private programming teacher, I have experience in both sides of the screen of an online class. I've been fortunate that most of my teachers have adapted well, but I know that not everyone can say the same. From experiences of my professors, other private teachers in my circle and myself, I've tried to compile some advice on teaching online programming and CS lessons.</p>

<h1>
  <a href="#1-you-need-a-comfortable-board-substitute" class="anchor">
  </a>
  1. You need a comfortable board substitute
</h1>

<p>Even if programming only requires your code editor, nothing can replace a drawing board when you want to explain algorithms, data structures or math. Let me say, <strong>even if you have slides</strong>, its extremely rare that they are more visual than drawing something in front of the student.</p>

<p>Your best options, from better to worse, are:</p>

<ol>
<li>
<p><strong>A graphic tablet and screen sharing</strong>. </p>

<p>This is the most natural way to integrate your writing and drawing into an online class. The main disadvantage is that a graphic tablet is an investment not everyone can or want to make.</p>
</li>
<li>
<p><strong>A second webcam pointing to your desktop</strong>.</p>

<p>This is what I do with my own students. I attached an old webcam I had to a piece of cardboard and used it to draw in a paper in front of it. <br>
Before your class, you may want to try the following.</p>

<ul>
<li>
<em>Check if the platform allows you to rotate the image</em> so the student can see the paper the same  orientation you do.</li>
<li>
<em>Learn the fastest way to switch cameras</em>. Some platforms have shortcuts for that, but if they don't, memorize where to find the configuration to do it as fast as possible.</li>
</ul>
</li>
<li>
<p><strong>A physical board</strong></p>

<p>If you have your own blackboard or whiteboard, you can always keep it at hand and use it in front of the camera. It isn't the most comfortable option to use with a computer, but it is still the best one for those less techy teachers (not as unusual in our field as it sounds).</p>
</li>
</ol>

<p>With this methods you avoid things that waste your time and the attention of your students like:</p>

<ul>
<li>
<em>Drawing with the mouse</em>. If it is absolutely necessary, do it, but it is so slow and complicated that usually is not worth it.</li>
<li>
<em>Writing math in plain text</em>. If we're talking about basic stuff, it may be possible (maybe even with the help of LaTex) but the simplest level of complexity, like matrix operations, sub and super indices, etc, will drastically drop its quality.</li>
</ul>

<h1>
  <a href="#2-get-fluent-in-screen-sharing" class="anchor">
  </a>
  2. Get fluent in screen sharing
</h1>

<p>Sharing screen is a basic activity in almost any online lesson, so you need to keep two things in mind:</p>

<ul>
<li>You have to <strong>help your students focus</strong> on what they have to.

<ul>
<li>If you are sharing slides, do it in <strong>fullscreen mode</strong>.</li>
<li>If you show code, <strong>zoom in the editor or make the font bigger</strong>, to make sure that your students can read it easily.</li>
<li>
<strong>Have your desktop and browser tabs as clean as possible</strong>, so your students don't get distracted by them (and to protect your own privacy if you use online resources).</li>
</ul>


</li>
<li>In most platforms, sharing screen means <strong>you can't see the classroom chat, so tell the students how they can call your attention</strong>. Either activating they microphone or keeping their questions for the end, but make sure they know what to do if they don't understand, because the feeling of disconnection with the teacher can make you lose their attention.

<ul>
<li>If not all students have microphone, another option is to have one student (who does have one) in charge of reading the questions of the others. Sometimes they take that initiative themselves, but it is good to suggest it yourself, in case they don't.</li>
</ul>


</li>
</ul>

<h1>
  <a href="#3-make-your-slides-progressive" class="anchor">
  </a>
  3. Make your slides progressive
</h1>

<p>If you are going to use them, then you can't do it the same way you would in person. In a face-to-face classroom, they are not the main focus of attention, because your physical presence plays that role. In an online classroom, on the other hand, students don't have you but a flat screen to look at.</p>

<p>For this reason, they shouldn't feel scared nor bored when looking at it. What level do your students have? Make sure they don't see at once a lot of unknown or trivial information. Make it appear as you talk and pace it to their understanding. An evolving screen keeps them engaged.</p>

<h1>
  <a href="#4-praise-webcam-use-and-draw-attention-periodically" class="anchor">
  </a>
  4. Praise webcam use and draw attention periodically
</h1>

<p>As the teacher, you will also have a flat screen in front of you instead of your students. In person you can perceive their feedback more easily and they might feel more comfortable rising their hands or answering a question.</p>

<p>But online, you don't always see them, so don't assume that they just will interrupt you to ask. Make periodic pauses for them to raise their questions or even to check they have listened what you  just explained.</p>

<p>It is hard to feel that you are talking to a wall. So verbally greet the students that speak to you or that activate their webcam when doing it. Not only it is a nice gesture to you, but also helps them feel more involved.</p>

<p>If there is no difference between your lesson and a recorded video, your students feel discouraged from participating.</p>

<h1>
  <a href="#5-keep-in-mind-cpu-limitations" class="anchor">
  </a>
  5. Keep in mind CPU limitations
</h1>

<p>Finally, take into account that your students, almost always, will be using the same computer to attend your class and to work, if you are giving practical lessons. This can be a problem if you make them use software that consumes a lot of resources (some IDEs, emulators or VMs, 3D engines, etc) and their computer is not powerful enough to have it running and reproduce the lesson at the same time.</p>

<p>If this is your case, separate the instructions for the practical sessions and the sessions themselves and have a lighter alternative of communicating during them, like a forum or a chat. Students might feel helpless if you are streaming your class and they can't follow you because their computer is about to melt.</p>




<p>I hope you found this useful. Do you have any other tips? I'd love to know what is your experience with online classes!</p>

:writing_hand: [Thu Nov 26 2020 9:16 AM] [Are you going to learn that? - Ambiguity of "Programming"](https://dev.to/miguelmj/are-you-going-to-learn-that-ambiguity-of-programming-1kdj)
<p>We live in the middle of an industrial revolution, brought by computers and telecommunications. I don't need to tell you that our lives and habits have been turned upside down; there are philosophers and psychologists reviewing this phenomenon better than I'm able to.</p>

<p>Anyways, there are some things I do want to point out, as every day more people become interested in programming and I'd like to give some references to those who are just starting. If you are already an experienced programmer, you might also find this insightful.</p>

<h1>
  <a href="#everyone-has-advice-for-beginners" class="anchor">
  </a>
  Everyone has advice for beginners
</h1>

<p>Programming has a place in all sectors of the market and also as a hobby, thanks to the increasing accessibility of the tools and the knowledge required. We have even come to hear that coding will be demanded in the future as a second language is today (something that has already been called into question).</p>

<p>There's a risk for newcomers in such a big field. There are thousands of options, thousands of voices and experiences. It's very common to see all over our communities articles titled <em>What language you should learn first?</em>, <em>Should you learn more than one language?</em>, <em>Tips for noob coders</em>, etc, etc, etc.</p>

<p>Well, here is my piece of advice: <strong>Don't listen to just anyone</strong>.</p>

<p>Before you rage on me, let me explain. There is something that not everyone realizes and that even some experienced programmers seem to overlook when giving advice: the words <em>programming</em> and <em>programmer</em> are not descriptive enough.</p>

<h1>
  <a href="#community-and-identity" class="anchor">
  </a>
  Community and identity
</h1>

<p>There is a natural tendency for practitioners to form their guilds. We come to one another looking for help, inspiration, advice, critique... This is how we grow. Also, this is how groups form their identity and stereotypes, which some proudly identify with, while others actively break.</p>

<p>I won't comment on whether that's a good or a bad thing, but we should mind the incomplete and distorted image that aspiring programmers receive. If you have learned coding in the last decade, I'm pretty sure you have seen (or even been) that young student who thinks that all programmers have dozens of stickers on their laptops, love caffeine and speak in &lt;p&gt;code&lt;/p&gt;.</p>

<p>There's nothing wrong with it, I love that people enjoy and engage with their activities (and stickers and coffee too), but I've also seen people of different ages and backgrounds stick to a preconceived idea of what programming is, what possibilities it offers and the <em>better way</em> to success.</p>

<p>But in reality - I can't stress this enough - <strong>programming is just a tool</strong>. This means that <em>programming</em> is not a career itself, it is not enough ground to set a path to success (whatever that means to you) and not enough to generalize programming career advice.</p>

<h1>
  <a href="#who-should-you-listen-to" class="anchor">
  </a>
  Who should you listen to?
</h1>

<h2>
  <a href="#you-have-a-specific-goal" class="anchor">
  </a>
  You have a specific goal
</h2>

<p>You are lucky then. Either you want to become a videogame developer, a cibersecurity expert, a mobile app developer or a data scientist, there are more or less objective learning steps you can follow, there are specific industry standards to adopt and, in general, a limited scope for you to dive into.</p>

<p>I'm aware that there is still a plethora of decisions to take. Which platform? Which game engine? Which web stack? Well, here you can listen to the experts in your concrete subfield and also trust that if you don't end up using the first technology you learn, the concepts you have internalized will indeed feed back what you learn next.</p>

<p>This is where programming as a tool shines. You have a problem, programming is your solution. The thing is: we must have this in mind when sharing our advice. As valuable as it is, <em>consider if it refers to your chosen path, or to actual general programming</em>.</p>

<h2>
  <a href="#you-are-not-sure-what-your-goal-is" class="anchor">
  </a>
  You are not sure what your goal is
</h2>

<p>You just love programming. You are as interested in a hackers convention as in a game jam as in a data mining contest. You are excited about different programming paradigms. One day you want to learn computer vision and the next one virtual architectures.</p>

<p>Then, you need to consider several things, to make you less susceptible to deceiving and confusing opinions like <em>you should totally learn X language</em>, <em>you should totally avoid X language</em>, <em>you need a lot of math to program</em>, <em>you don't need a lot of math to program</em>, <em>this technology will be the best paid next year</em>, <em>this technology will disappear next year</em>...</p>

<ul>
<li><p><strong>Be honest with yourself about the complexity you are able and are willing to handle and get to know how much your interests will demand</strong>. I am always surprised by people who want to excel in video game development or machine learning without having a certain level of mathematics. I'm not saying it's not possible, but you will be clearly limited by it.</p></li>
<li><p><strong>Be aware that this process will take time</strong>. To know the complexity of a given field you either have to dedicate some time to it, or get in touch with people that can mentor you or share the difficulties they've faced. Both options require some dedication, so don't expect a short and straight way. Hopefully, it will compensate.</p></li>
</ul>

<p>So I do have a central piece of advice for you: <strong>focus on one thing and make yourself employable; after that you can expand your horizons</strong>.</p>

<p>Don't get me wrong. I strongly believe that theoretical background and transversal competence pay off, whatever many people say. The applications may not be directly applicable, but nothing else trains your abstract thinking and problem solving skills as a continuous process of learning.</p>

<p>However, be sure you don't lose touch with reality. If you want to work in an industry, you have to present a set of skills and practical expertise. To achieve it, you can't be jumping from one subject to another. As I said, you want to be employable before allowing yourself to explore other disciplines.</p>

<h1>
  <a href="#conclusion" class="anchor">
  </a>
  Conclusion
</h1>

<p>Whether you are looking for advice or giving it, remember that you are never just a programmer. Consider how your choices differentiate your career and how that would apply or not to others. </p>

<p>It doesn't matter what programming is for you: from an interesting way of earning a living to a gateway to the possibilities of universal computing. If you belong to the programmer community, I would be happy if after reading this post you remembered how it was getting started for you and were a little more committed to correctly assist the newcomers to this complex world.</p>

:writing_hand: [Sat Nov 21 2020 11:49 AM] [Beginner tips to do Algebra in Python](https://dev.to/miguelmj/beginner-tips-to-do-algebra-in-python-477e)
<p>There are two kind of people that usually share a common <em>difficulty</em> when starting to use Python: those who learn it without previous coding experience and those who come from a low-level programming background.<br>
I fall under the second category and when it comes to certain problems I know we tend to ignore possible native solutions and try to solve them in an algorithmic way. This is nice (and better) for learning, but high level languages usually offer solutions that will be easier to code, understand and maintain.</p>

<p>I will assume you understand lists, dictionaries and sets in Python and the basics of algebra.</p>

<p><strong>Contents</strong></p>

<ol>
<li>List, Dictionary and Set Comprehension</li>
<li>Set operations

<ul>
<li>Sets of sets</li>
</ul>
</li>
<li>
<code>functools</code> module

<ul>
<li><code>functools.reduce</code></li>
<li><code>functools.lru_cache</code></li>
</ul>
</li>
</ol>
<h2>
  <a href="#list-dictionary-and-set-comprehension" class="anchor">
  </a>
  List, Dictionary and Set Comprehension
</h2>

<p>Let's say we have a list containing some numbers and we want to extract from it only the even ones into a separate list. A perfectly valid approach would be:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">12</span><span class="p">]</span>
<span class="n">even</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">mylist</span><span class="p">:</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">n</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
    <span class="n">even</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">even</span><span class="p">)</span>
<span class="c1"># [4,8,12]
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>This is pretty standard for C-family languages, for example. However, a most pythonic way is to use a <strong>list comprehension</strong>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">12</span><span class="p">]</span>
<span class="n">even</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mylist</span> <span class="k">if</span> <span class="n">x</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">even</span><span class="p">)</span>
<span class="c1"># [4,8,12]
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>List comprehension is a way of specifying the contents of a new list by an expression and an optional condition related to the elements of an iterable object. The syntax is the following:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="c1"># without filter
</span><span class="p">[</span><span class="n">expression</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">]</span>
<span class="c1"># with filter
</span><span class="p">[</span><span class="n">expression</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">sequence</span> <span class="k">if</span> <span class="n">condition</span><span class="p">]</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>So another example could be to copy a list of strings, changing all of them to upper case:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Mikkel'</span><span class="p">,</span> <span class="s">'Jonas'</span><span class="p">,</span> <span class="s">'Martha'</span><span class="p">]</span>
<span class="n">uppernames</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span><span class="p">.</span><span class="n">upper</span><span class="p">()</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="n">uppernames</span><span class="p">)</span>
<span class="c1"># ['MIKKEL','JONAS','MARTHA']
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>Now, you can also define sets and dictionaries by comprehension:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="c1"># sets
</span><span class="nb">set</span><span class="p">(</span><span class="n">expression</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">)</span>
<span class="p">{</span><span class="n">expression</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">}</span>
<span class="c1"># dicts (note here's a difference in the key value specification)
</span><span class="nb">dict</span><span class="p">((</span><span class="n">key</span><span class="p">,</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">sequence</span> <span class="k">if</span> <span class="n">condition</span><span class="p">)</span>
<span class="p">{</span><span class="n">key</span><span class="p">:</span><span class="n">value</span> <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">sequence</span> <span class="k">if</span> <span class="n">condition</span><span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>But there is more! You don't have to iterate just a single sequence. Python allows you to add more than one <code>for &lt;sequence&gt;</code> in your comprehensions. Let's see some examples:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="c1"># dictionary merge
</span><span class="n">merged</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict1</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">dict2</span><span class="p">}</span>
<span class="c1"># cartesian product of two sets
# - note that the result is not a dict, but a set of tuples
</span><span class="n">cartesian</span> <span class="o">=</span> <span class="p">{(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">set1</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">set2</span><span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p><a href="https://www.smallsurething.com/list-dict-and-set-comprehensions-by-example/">Here</a> you'll find more examples on list, dict and set comprehensions.</p>

<h2>
  <a href="#set-operations" class="anchor">
  </a>
  Set operations
</h2>

<p>Now, with set comprehension it's easy to define usual operations between sets. Nonetheless, Python already defines these operations natively:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="n">abcde</span> <span class="o">=</span> <span class="p">{</span><span class="s">'a'</span><span class="p">,</span><span class="s">'b'</span><span class="p">,</span><span class="s">'c'</span><span class="p">,</span><span class="s">'d'</span><span class="p">,</span><span class="s">'e'</span><span class="p">}</span>
<span class="n">vowels</span> <span class="o">=</span> <span class="p">{</span><span class="s">'a'</span><span class="p">,</span><span class="s">'e'</span><span class="p">,</span><span class="s">'i'</span><span class="p">,</span><span class="s">'o'</span><span class="p">,</span><span class="s">'u'</span><span class="p">}</span>

<span class="n">intersection</span> <span class="o">=</span> <span class="n">abcde</span> <span class="o">&amp;</span> <span class="n">vowels</span>
<span class="c1"># {'a','e'}
</span><span class="n">union</span> <span class="o">=</span> <span class="n">abcde</span> <span class="o">|</span> <span class="n">vowels</span>
<span class="c1"># {'a', 'b', 'c', 'd', 'e', 'i', 'o', 'u'}
</span><span class="n">difference</span> <span class="o">=</span> <span class="n">abcde</span> <span class="o">-</span> <span class="n">vowels</span>
<span class="c1"># {'b','c','d'}
</span><span class="n">symmetricDifference</span> <span class="o">=</span> <span class="n">abcde</span> <span class="o">^</span> <span class="n">vowels</span>
<span class="c1"># {'b','c','d','i','o','u'}
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p><em>Note that the output doesn't need to be sorted, but I wrote it that way to make it easier to understand.</em></p>

<p>Now, there are not only operations that result on new sets, but also boolean operators like:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="n">isStrictSubset1</span> <span class="o">=</span> <span class="n">abcde</span> <span class="o">&lt;</span> <span class="n">abcde</span>
<span class="c1"># False
</span><span class="n">isStrictSubset2</span> <span class="o">=</span> <span class="n">difference</span> <span class="o">&lt;</span> <span class="n">abcde</span>
<span class="c1"># True
</span>
<span class="n">isSubset1</span> <span class="o">=</span> <span class="n">abcde</span> <span class="o">&lt;=</span> <span class="n">vowels</span>
<span class="c1"># False
</span><span class="n">isSubset2</span> <span class="o">=</span> <span class="n">abcde</span> <span class="o">&lt;=</span> <span class="n">abcde</span>
<span class="c1"># True
</span><span class="n">isSubset3</span> <span class="o">=</span> <span class="n">difference</span> <span class="o">&lt;=</span> <span class="n">abcde</span>
<span class="c1"># True
</span>
<span class="n">isEmptySet</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">abcde</span><span class="p">)</span>
<span class="c1"># False
</span><span class="n">isEmptySet</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="n">abcde</span> <span class="o">-</span> <span class="n">abcde</span><span class="p">)</span>
<span class="c1"># True
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h3>
  <a href="#sets-of-sets" class="anchor">
  </a>
  Sets of sets
</h3>

<p>A limitation to have in mind when working with sets in Python is that sets can only contain hashable types (int, char, tuples...) and sets themselves are not hashable. For this reason, if you want to store a set of sets, you must use instead a list of sets. Fortunately, this time list comprehension plus list operations can make it to replace the set operations.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="n">set1</span> <span class="o">=</span> <span class="p">[{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">},</span> <span class="p">{</span><span class="s">'a'</span><span class="p">,</span><span class="s">'b'</span><span class="p">,</span><span class="s">'c'</span><span class="p">},</span> <span class="p">{</span><span class="s">'A'</span><span class="p">,</span><span class="s">'B'</span><span class="p">,</span><span class="s">'C'</span><span class="p">}]</span>
<span class="n">set2</span> <span class="o">=</span> <span class="p">[{</span><span class="s">'a'</span><span class="p">,</span><span class="s">'b'</span><span class="p">,</span><span class="s">'c'</span><span class="p">},</span> <span class="p">{</span><span class="s">'b'</span><span class="p">,</span><span class="s">'c'</span><span class="p">},</span> <span class="p">{</span><span class="s">'c'</span><span class="p">}]</span>

<span class="n">intersection</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">set1</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">set2</span><span class="p">]</span>
<span class="c1"># [{'a','b','c'}]
</span><span class="n">difference</span>  <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">set1</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">set2</span><span class="p">]</span>
<span class="c1"># [{1,2,3}, {'a','b','c'}, {'A','B','C'}]
</span><span class="n">union</span> <span class="o">=</span> <span class="n">set2</span> <span class="o">+</span> <span class="n">difference</span>
<span class="c1"># [{'a', 'b', 'c'}, {'b', 'c'}, {'c'}, {1, 2, 3}, {'A', 'B', 'C'}]
</span>
<span class="c1"># You get the idea
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h2>
  <a href="#-raw-functools-endraw-module" class="anchor">
  </a>
  <code>functools</code> module
</h2>

<p>This is a useful python module that provides very interesting utilities, from which I'll only talk about two: <code>reduce</code> and <code>@lru_cache</code>.</p>

<p><a href="https://docs.python.org/3/library/functools.html">Here</a> you'll find the complete official documentation on this module.</p>

<h3>
  <a href="#-raw-functoolsreduce-endraw-" class="anchor">
  </a>
  <code>functools.reduce</code>
</h3>

<p><code>reduce</code> is very powerful tool, as it can generalize almost any (if not all) iterative processes on a list, and I strongly recommend you to dive deeper yourself in its use. For the purpose of this post, I will just use it to generalize the operations between an undefined number of sets.</p>

<p>Let's say we have the same list of sets as before and we want to make the union of all of them. A valid approach would be:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="n">set1</span> <span class="o">=</span> <span class="p">[{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">},</span> <span class="p">{</span><span class="s">'a'</span><span class="p">,</span><span class="s">'b'</span><span class="p">,</span><span class="s">'c'</span><span class="p">},</span> <span class="p">{</span><span class="s">'A'</span><span class="p">,</span><span class="s">'B'</span><span class="p">,</span><span class="s">'C'</span><span class="p">}]</span>
<span class="n">union</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span> 
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">set1</span><span class="p">:</span>
  <span class="n">union</span> <span class="o">=</span> <span class="n">union</span> <span class="o">|</span> <span class="n">x</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>But with reduce the exact same behaviour is obtained as it follows:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="n">set1</span> <span class="o">=</span> <span class="p">[{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">},</span> <span class="p">{</span><span class="s">'a'</span><span class="p">,</span><span class="s">'b'</span><span class="p">,</span><span class="s">'c'</span><span class="p">},</span> <span class="p">{</span><span class="s">'A'</span><span class="p">,</span><span class="s">'B'</span><span class="p">,</span><span class="s">'C'</span><span class="p">}]</span>
<span class="n">union</span> <span class="o">=</span> <span class="n">functools</span><span class="p">.</span><span class="nb">reduce</span><span class="p">(</span><span class="nb">set</span><span class="p">.</span><span class="n">union</span><span class="p">,</span> <span class="n">set1</span><span class="p">)</span>
<span class="c1"># {1, 2, 3, 'a', 'A', 'b', 'c', 'B', 'C'}
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>The first argument is the function to apply and the second is the list to which it will be applied, in an accumulative way. <em>Note that I didn't use the operator <code>|</code> as before. Instead, I had to use the named function <code>set.union</code>. To find the named functions corresponding to the set operators, you can type <code>help(set)</code> in your Python console.</em></p>

<h3>
  <a href="#-raw-functoolslrucache-endraw-" class="anchor">
  </a>
  <code>@functools.lru_cache</code>
</h3>

<p>As you can imagine, though comprehensions are easy to type and understand, they are not precisely cheap in computation time. The module <code>functools</code> provides us with several ways to cache the results of a function (note that a similar behaviour is obtained for class methods with <code>@functools.cached_property</code>).<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="o">@</span><span class="n">functools</span><span class="p">.</span><span class="n">lru_cache</span>
<span class="k">def</span> <span class="nf">count_vowels</span><span class="p">(</span><span class="n">sentence</span><span class="p">):</span>
  <span class="n">sentence</span> <span class="o">=</span> <span class="n">sentence</span><span class="p">.</span><span class="n">casefold</span><span class="p">()</span>
  <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">sentence</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="n">vowel</span><span class="p">)</span> <span class="k">for</span> <span class="n">vowel</span> <span class="ow">in</span> <span class="s">'aeiou'</span><span class="p">)</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<p>With such a simple annotation above the function definition, a number of calls will store its result, in case they are called again, to return it instead of executing the same code again.</p>

<p>This is useful not only for computationally expensive functions that won't change the result, but also for recursive functions that will be repeated. For example:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="o">@</span><span class="n">functools</span><span class="p">.</span><span class="n">lru_cache</span>
<span class="k">def</span> <span class="nf">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">n</span><span class="o">*</span><span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">n</span> <span class="k">else</span> <span class="mi">1</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>



<h2>
  <a href="#practical-example" class="anchor">
  </a>
  Practical example
</h2>

<p>Let's see how this apply, for example, to track familiar relations.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">functools</span>

<span class="c1"># https://en.wikipedia.org/wiki/Transitive_closure
</span><span class="k">def</span> <span class="nf">transitiveClosure</span><span class="p">(</span><span class="n">relation</span><span class="p">):</span>
    <span class="n">closure</span> <span class="o">=</span> <span class="n">relation</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="p">{(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">r1</span><span class="p">)</span> <span class="ow">in</span> <span class="n">closure</span> <span class="k">for</span> <span class="p">(</span><span class="n">r2</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="ow">in</span> <span class="n">closure</span> <span class="k">if</span> <span class="n">r1</span> <span class="o">==</span> <span class="n">r2</span><span class="p">}</span>
        <span class="n">newClosure</span> <span class="o">=</span> <span class="n">closure</span> <span class="o">|</span> <span class="n">delta</span>
        <span class="k">if</span> <span class="n">newClosure</span> <span class="o">==</span> <span class="n">closure</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="n">closure</span> <span class="o">=</span> <span class="n">newClosure</span>
    <span class="k">return</span> <span class="n">closure</span><span class="p">;</span>

<span class="c1"># Direct descendance information
</span><span class="n">childRelation</span> <span class="o">=</span> <span class="p">{</span>
         <span class="p">(</span><span class="s">'Martha'</span><span class="p">,</span><span class="s">'Ulrich'</span><span class="p">),</span>
         <span class="p">(</span><span class="s">'Mikkel'</span><span class="p">,</span><span class="s">'Ulrich'</span><span class="p">),</span>
         <span class="p">(</span><span class="s">'Magnus'</span><span class="p">,</span><span class="s">'Ulrich'</span><span class="p">),</span>
         <span class="p">(</span><span class="s">'Mads'</span><span class="p">,</span><span class="s">'Tronte'</span><span class="p">),</span>
         <span class="p">(</span><span class="s">'Ulrich'</span><span class="p">,</span><span class="s">'Tronte'</span><span class="p">),</span>
         <span class="p">(</span><span class="s">'Tronte'</span><span class="p">,</span><span class="s">'Agnes'</span><span class="p">),</span>
         <span class="p">(</span><span class="s">'Jonas'</span><span class="p">,</span><span class="s">'Hannah'</span><span class="p">),</span>
         <span class="p">(</span><span class="s">'Jonas'</span><span class="p">,</span><span class="s">'Michael'</span><span class="p">)}</span>

<span class="n">descendantRelation</span> <span class="o">=</span> <span class="n">transitiveClosure</span><span class="p">(</span><span class="n">childRelation</span><span class="p">)</span>

<span class="c1"># Some functions using our new relation
</span><span class="o">@</span><span class="n">functools</span><span class="p">.</span><span class="n">lru_cache</span>
<span class="k">def</span> <span class="nf">ancestorsOf</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">b</span> <span class="k">for</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="ow">in</span> <span class="n">descendantRelation</span> <span class="k">if</span> <span class="n">a</span><span class="o">==</span><span class="n">x</span><span class="p">}</span>

<span class="k">def</span> <span class="nf">isDescendantOf</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">ancestorsOf</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">areRelated</span><span class="p">(</span><span class="n">peopleList</span><span class="p">):</span>
    <span class="n">ancestors</span> <span class="o">=</span> <span class="p">[</span><span class="n">ancestorsOf</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">peopleList</span><span class="p">]</span>
    <span class="n">commonAncestors</span> <span class="o">=</span> <span class="n">functools</span><span class="p">.</span><span class="nb">reduce</span><span class="p">(</span><span class="nb">set</span><span class="p">.</span><span class="n">intersection</span><span class="p">,</span> <span class="n">ancestors</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">commonAncestors</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">ancestorsOf</span><span class="p">(</span><span class="s">'Martha'</span><span class="p">))</span>
<span class="c1"># {'Agnes','Tronte','Ulrich'}
</span><span class="k">print</span><span class="p">(</span><span class="n">isDescendantOf</span><span class="p">(</span><span class="s">'Jonas'</span><span class="p">,</span> <span class="s">'Agnes'</span><span class="p">));</span>
<span class="c1"># False
</span><span class="k">print</span><span class="p">(</span><span class="n">isDescendantOf</span><span class="p">(</span><span class="s">'Martha'</span><span class="p">,</span> <span class="s">'Agnes'</span><span class="p">));</span>
<span class="c1"># True
</span><span class="k">print</span><span class="p">(</span><span class="n">areRelated</span><span class="p">([</span><span class="s">'Martha'</span><span class="p">,</span> <span class="s">'Jonas'</span><span class="p">]));</span>
<span class="c1"># False
</span><span class="k">print</span><span class="p">(</span><span class="n">areRelated</span><span class="p">([</span><span class="s">'Martha'</span><span class="p">,</span> <span class="s">'Magnus'</span><span class="p">,</span> <span class="s">'Mikkel'</span><span class="p">]));</span>
<span class="c1"># True
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    Enter fullscreen mode
    


    Exit fullscreen mode
    


</div>
</div>
</div>






<p>I hope you find this information useful. Do you have any tips you want to share? If you have experience solving your math assignments with Python (or any other language) I'd love to read them!</p>

:writing_hand: [Fri Oct 23 2020 2:35 PM] [Thoughts on declarative programming - Why I'm learning Prolog](https://dev.to/miguelmj/thoughts-on-declarative-programming-why-i-m-learning-prolog-43be)
<blockquote>
<p>First of all I want to state that in this post I will use <em>declarative programming language</em> to refer to purely functional (Haskell, Miranda) and logical (Prolog) programming. No query languages (SQL) nor markup languages (XML).</p>
</blockquote>

<p>Contents</p>

<ul>
<li><a href="#Why-is-declarative-programming-less-popular?">Why is declarative programming less popular?</a></li>
<li><a href="#Reasons-to-learn-a-declarative-language">Reasons to learn a declarative language</a></li>
<li><a href="#My-personal-experience---Why-I-choose-Prolog">My personal experience - Why I choose Prolog</a></li>
</ul>

<p>Most of us (if not all) start our programming journey with an imperative language (C, Python, JS...). This way we learn to think about the algorithms, the step by step process to solve problems. I agree that this is the best way to start, but I believe that we, developers, should be curious by nature and try out new things. However, many prefer to keep their distance from declarative programming, without understanding how it would benefit them. Here are my thoughts on this topic.</p>

<h2>
  <a href="#why-is-declarative-programming-less-popular" class="anchor">
  </a>
  Why is declarative programming less popular?
</h2>

<p><strong>1. Computers don't work that way</strong></p>

<p>To begin with, computers themselves execute programs in an imperative manner (one instruction after another), and I'm pretty sure they always will, because we don't live in a mathematical realm where definitions <em>just apply</em>. For this reason, <strong>imperative programming is a better way to learn the internals of your computer</strong>, how your code is compiled into machine language, how it is executed, etc (even if it's an interpreted language, this concepts can be understood easier).</p>

<p>As I said, it is good to start like this, because the grasp you get of what's going on is really better.</p>

<p><strong>2. It feels like starting from zero</strong></p>

<p>The first time I was told to write a Haskell program in the second year of my degree, and I learnt that <strong>I couldn't use assignation or loops</strong>, I felt again like an absolute beginner. The difference in how data is handled and the fact that I didn't fully understand how the execution worked, with what I felt was an obscene amount of recursive calls, blocked me for a moment.</p>

<p>It is completely normal to think <em>"I would do this so much easier in my usual language, in which I have much more experience and that adjusts better to my way of thinking"</em>.</p>

<p><strong>3. It is not the industry standard</strong></p>

<p>The <strong><a href="https://www.northeastern.edu/graduate/blog/most-popular-programming-languages/">most popular languages in 2020</a> are imperative, some more multiparadigmatic than others</strong>, but none purely functional or logical. So, why bother? If it won't get me a better salary, is it really worth it?</p>

<h2>
  <a href="#reasons-to-learn-a-declarative-language" class="anchor">
  </a>
  Reasons to learn a declarative language
</h2>

<p><strong>1. If you do better declarative, you do better imperative</strong></p>

<p>And for what I've seen and experienced, it doesn't go the other way around. <strong>The declarative approach often needs some good practices that are not strictly necessary in the imperative</strong>, in terms of what each block of code does and the consideration of all possible cases. </p>

<p>When we keep our code clean of the little hacks we sometimes do, is easier to document, debug, maintain and scale it.</p>

<p><strong>2. Focus on the problem, write less code</strong></p>

<p>The first time I wrote a Python program after years of C++, I couldn't believe that hundreds of lines of code were reduced to a few dozen. Well, that was nothing compared to what I felt while learning Haskell, where those dozens of lines in Python could be written in less than ten.</p>

<p>Functional and logical programming take a lot from math, so definitions are short, expressive and powerful, but need a level of abstraction that requires time to apprehend.</p>

<p><strong>3. Make a difference in your CV</strong></p>

<p>As I said, the most popular languages are not declarative. But for this same reason, there are fewer developers (even thought their communities are growing). You will find Python, Java and Javascript developers under each stone, but having a different language in your belt tells that <strong>you have devoted time to step out of the comfort zone</strong> and you are familiar with different approaches.</p>

<h2>
  <a href="#my-personal-experience-why-i-choose-prolog" class="anchor">
  </a>
  My personal experience - Why I choose Prolog
</h2>

<p>Prolog has multiple implementations, but I recommend SWI-Prolog, available for Windows, Linux and Mac. You can try it online in its official site (link below). It comes with a bunch of useful libraries and very good documentation.</p>

<p><strong>1. Soft learning curve</strong></p>

<p>My first experience with declarative programming, as I mentioned, was with Haskell. I really fell in love with the language, but there's a point where it got too abstract for me. I wish to retake it, but in the meanwhile, I discovered that Prolog is more intuitive in a lot of ways.</p>

<p>Also, there are great resources and documentation to learn Prolog from the very basics to a pretty decent level:</p>

<ul>
<li><a href="http://www.learnprolognow.org/">http://www.learnprolognow.org/</a></li>
<li><a href="https://www.swi-prolog.org/">https://www.swi-prolog.org/</a></li>
</ul>

<p><strong>2. Native syntax for grammars</strong></p>

<p>I personally love working with grammars. I think they are useful and powerful. I have done a lot of personal work with tools like Flex and Bison, so when I discovered that Prolog has native support for them, via what it calls Definite Clause Grammars (DCG), I immediately fell for it. It may not be the perfect option to deal with highly complex semantics, but it sure does it for most common uses in text processing.</p>

<p><strong>3. Easy to embed and integrate</strong></p>

<p>If you want to use SWI-Prolog as some kind of inference module, a way to connect your applications with a knowledge base, instead of the main language, it has interfaces for several languages, like <a href="https://www.swi-prolog.org/pldoc/man?section=foreign">C</a>, <a href="https://www.swi-prolog.org/pldoc/doc_for?object=section(%27packages/pl2cpp.html%27)">C++</a>, <a href="https://www.swi-prolog.org/pldoc/doc_for?object=section(%27packages/jpl.html%27)">Java</a> or <a href="https://pypi.org/project/pylog/">Python</a>.</p>




<p>What is your experience with declarative programming? Do you think it's worth it? Feel free to comment about your favorite languages or recommend learning resources! </p>

:writing_hand: [Sun Oct 11 2020 4:18 PM] [Writing a Conversational Interface Library - Adapted Regular Expressions](https://dev.to/miguelmj/writing-a-conversational-interface-library-adapted-regular-expressions-6mn)
<p>The regular expressions that we will use in our library are mostly to process <a href="https://en.wikipedia.org/wiki/Controlled_natural_language">controlled natural language</a>, so we are going to make an adapted version of them. We will have to give up some of the potential of regular expressions to gain usability for the most common cases in our library.</p>

<p><em>Note: We are going to use regular expressions to process regular expressions, so they can get a little confusing. You may want to check out my post on <a href="https://dev.to/miguelmj/correctly-escaping-regular-expressions-27nc/">Correctly escaping regular expressions</a></em></p>

<h2>
  <a href="#features" class="anchor">
  </a>
  Features
</h2>

<p>The Adapted Expressions (this is how I will be calling this adapted version of regular expressions) have the following features and syntax:</p>

<ul>
<li>
<strong>Optional parts</strong>: They will be enclosed between squared brackets <code>[]</code> and may be omitted. <code>one two[ three]</code> recognizes both <code>one two</code> and <code>one two three</code>.</li>
<li>
<strong>Eligible parts</strong>: They will be enclosed between parenthesis and separated by bars, and may be interchanged. <code>(one|two|three)</code> will recognize <code>one</code>, <code>two</code> or <code>three</code>
</li>
<li>
<strong>Word placeholder</strong>: They are used to recognize one or more words and store them in the inner state. The syntax is <code>@&gt;id[quant]</code> for <code>[quant]</code> words stored in a group named <code>id</code>. <code>[quant]</code> can be any of the usual quantifiers of regular expressions in Java: this is <code>*</code>,<code>+</code>, <code>{n}</code> or <code>{min,max}</code>. For example, <code>You can call me @&gt;fullname{1,3}</code> will recognize <code>You can call me Jon Doe</code> or any other name with one word minimum and three maximum.</li>
<li>
<strong>Number placeholder</strong>: They are used to recognize one or more numbers and store them in the inner state. The syntax is <code>#&gt;id[quant]</code>, with a similar behavior to the word placeholders.</li>
<li>
<strong>Variables</strong>: They are used to represent the content of a variable of the inner state. The syntax is <code>$id</code>.</li>
</ul>

<p><em>Note: Placeholders and variables refer to the same concepts explained in the last post</em>. </p>

<p>Here's a table with the equivalences:</p>

<div class="table-wrapper-paragraph"><table>
<thead>
<tr>
<th>Adapted Expression</th>
<th>Regular Expression</th>
</tr>
</thead>
<tbody>
<tr>
<td>[text]</td>
<td>(text)?</td>
</tr>
<tr>
<td>(a|b|c)</td>
<td>(a|b|c)</td>
</tr>
<tr>
<td>@&gt;id</td>
<td>(?&lt;id&gt;\w+ ?)</td>
</tr>
<tr>
<td>@&gt;id{n}</td>
<td>(?&lt;id&gt;(\w+ ?){n})</td>
</tr>
<tr>
<td>#&gt;id</td>
<td>(?&lt;id&gt;\d+ ?)</td>
</tr>
<tr>
<td>#&gt;id{n}</td>
<td>(?&lt;id&gt;(\d+ ?){n})</td>
</tr>
<tr>
<td>$id</td>
<td>$id</td>
</tr>
</tbody>
</table></div>

<p><em>Note: <code>$id</code> variables doesn't belong to Regular Expressions, but to the extension we made in the last post</em>.</p>

<h2>
  <a href="#-raw-regexadapter-endraw-class" class="anchor">
  </a>
  <code>RegexAdapter</code> class
</h2>

<p>In the previous we created this class to make a function to replace the variable names with the associated content in the inner state. Now we will add a new function to adapt the string of a Adapted Expression to a Regular Expression. It is very important to have clear that the reserved characters of the Adapted Expressions are not the same as in the Regular Expressions. For this reason, the first step of this transformation is to escape the characters with special meaning in a Regular Expression that are present in our Adapted Expression. This means that we have to assume that those characters are going to be escaped when we process them, and change that if necessary.</p>

<p>We are going to need the definition of certain constants.<br>
</p>

<div class="highlight"><pre class="highlight java"><code><span class="c1">// The characters reserved in the Regular Expressions for which we don't want a</span>
<span class="c1">// special meaning</span>
<span class="kd">final</span> <span class="kd">static</span> <span class="kd">private</span> <span class="kt">char</span><span class="o">[]</span> <span class="n">reserved</span> <span class="o">=</span> <span class="o">{</span><span class="sc">'?'</span><span class="o">,</span> <span class="sc">'^'</span><span class="o">,</span> <span class="sc">'.'</span><span class="o">,</span> <span class="sc">'</span><span class="o">,</span> <span class="sc">'['</span><span class="o">,</span> <span class="sc">']'</span><span class="o">};</span>
<span class="c1">// The strings used to  build the regex that contain common concepts in our expressions</span>
<span class="kd">final</span> <span class="kd">static</span> <span class="kd">private</span> <span class="nc">String</span> <span class="n">id</span> <span class="o">=</span> <span class="s">"[a-zA-Z_]\\w*"</span><span class="o">;</span>
<span class="kd">final</span> <span class="kd">static</span> <span class="kd">private</span> <span class="nc">String</span> <span class="n">num</span> <span class="o">=</span> <span class="s">"\\d+"</span><span class="o">;</span>
<span class="kd">final</span> <span class="kd">static</span> <span class="kd">private</span> <span class="nc">String</span> <span class="n">print</span> <span class="o">=</span> <span class="s">"\\\\w+"</span><span class="o">;</span>
<span class="kd">final</span> <span class="kd">static</span> <span class="kd">private</span> <span class="nc">String</span> <span class="n">quant</span> <span class="o">=</span> <span class="s">"\\{\\d+,\\d*\\}|\\+|\\*"</span><span class="o">;</span>
<span class="c1">// The regular expressions that we will use to make the transformation</span>
<span class="kd">final</span> <span class="kd">static</span> <span class="kd">private</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">regex</span><span class="o">.</span><span class="na">Pattern</span> <span class="n">optional_open</span>
    <span class="o">=</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">regex</span><span class="o">.</span><span class="na">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="s">"\\\\\\["</span><span class="o">);</span>
<span class="kd">final</span> <span class="kd">static</span> <span class="kd">private</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">regex</span><span class="o">.</span><span class="na">Pattern</span> <span class="n">optional_close</span>
    <span class="o">=</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">regex</span><span class="o">.</span><span class="na">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="s">"\\\\\\]"</span><span class="o">);</span>
<span class="kd">final</span> <span class="kd">static</span> <span class="kd">private</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">regex</span><span class="o">.</span><span class="na">Pattern</span> <span class="n">alphaplaceholder</span> 
    <span class="o">=</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">regex</span><span class="o">.</span><span class="na">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="s">"\\@&gt;(?&lt;id&gt;"</span><span class="o">+</span><span class="n">id</span><span class="o">+</span><span class="s">")(?&lt;quant&gt;"</span><span class="o">+</span><span class="n">quant</span><span class="o">+</span><span class="s">")?"</span><span class="o">);</span>
<span class="kd">final</span> <span class="kd">static</span> <span class="kd">private</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">regex</span><span class="o">.</span><span class="na">Pattern</span> <span class="n">numplaceholder</span> 
    <span class="o">=</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">regex</span><span class="o">.</span><span class="na">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="s">"\\#&gt;(?&lt;id&gt;"</span><span class="o">+</span><span class="n">id</span><span class="o">+</span><span class="s">")(?&lt;quant&gt;"</span><span class="o">+</span><span class="n">quant</span><span class="o">+</span><span class="s">")?"</span><span class="o">);</span>
<span class="kd">final</span> <span class="kd">static</span> <span class="kd">public</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">regex</span><span class="o">.</span><span class="na">Pattern</span> <span class="n">variable</span> 
    <span class="o">=</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">regex</span><span class="o">.</span><span class="na">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="s">"\\\\\\$(?&lt;id&gt;"</span><span class="o">+</span><span class="n">id</span><span class="o">+</span><span class="s">")"</span><span class="o">);</span>
</code></pre></div>



<p>With this constants defined, we can define the function to escape the Regular Expressions:<br>
</p>

<div class="highlight"><pre class="highlight java"><code><span class="kd">static</span> <span class="kd">private</span> <span class="nc">String</span> <span class="nf">quoteRegex</span><span class="o">(</span><span class="nc">String</span> <span class="n">regex</span><span class="o">){</span>
    <span class="k">for</span><span class="o">(</span><span class="kt">char</span> <span class="nl">ch:</span> <span class="n">reserved</span><span class="o">){</span>
        <span class="n">regex</span> <span class="o">=</span> <span class="n">regex</span><span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">"\\"</span><span class="o">+</span><span class="n">ch</span><span class="o">,</span> <span class="nc">Matcher</span><span class="o">.</span><span class="na">quoteReplacement</span><span class="o">(</span><span class="s">"\\"</span><span class="o">+</span><span class="n">ch</span><span class="o">));</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">regex</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div>



<p>And finally we can define the function to make the translation using replacing with backreferencing:<br>
</p>

<div class="highlight"><pre class="highlight java"><code><span class="kd">static</span> <span class="kd">public</span> <span class="nc">String</span> <span class="nf">adapt</span><span class="o">(</span><span class="nc">String</span> <span class="n">expr</span><span class="o">){</span>
    <span class="nc">Matcher</span> <span class="n">matcher</span><span class="o">;</span>
    <span class="n">matcher</span> <span class="o">=</span> <span class="n">optional_open</span><span class="o">.</span><span class="na">matcher</span><span class="o">(</span><span class="n">expr</span><span class="o">);</span>
    <span class="n">expr</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">"("</span><span class="o">);</span>
    <span class="n">matcher</span> <span class="o">=</span> <span class="n">optional_close</span><span class="o">.</span><span class="na">matcher</span><span class="o">(</span><span class="n">expr</span><span class="o">);</span>
    <span class="n">expr</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">")?"</span><span class="o">);</span>
    <span class="n">matcher</span> <span class="o">=</span> <span class="n">alphaplaceholder</span><span class="o">.</span><span class="na">matcher</span><span class="o">(</span><span class="n">expr</span><span class="o">);</span>
    <span class="n">expr</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">"(?&lt;${id}&gt;("</span><span class="o">+</span><span class="n">print</span><span class="o">+</span><span class="s">" ?)${quant})"</span><span class="o">);</span>
    <span class="n">matcher</span> <span class="o">=</span> <span class="n">numplaceholder</span><span class="o">.</span><span class="na">matcher</span><span class="o">(</span><span class="n">expr</span><span class="o">);</span>
    <span class="n">expr</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">"(?&lt;${id}&gt;("</span><span class="o">+</span><span class="n">num</span><span class="o">+</span><span class="s">" ?)${quant})"</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">expr</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div>



<h4>
  <a href="#example" class="anchor">
  </a>
  Example
</h4>

<p>Now, instead of writing a response like this:<br>
</p>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"input"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Remind((er| me)? to)? (?&lt;action&gt;(</span><span class="se">\w</span><span class="s2"> ?)+) on (?&lt;day&gt;</span><span class="se">\w</span><span class="s2">+)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"output"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I will you to $action on $day"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>



<p>We can write it like this:<br>
</p>

<div class="highlight"><pre class="highlight java"><code><span class="o">{</span>
    <span class="s">"input"</span><span class="o">:</span> <span class="s">"Remind[[er| me] to] @&gt;action+ on @&gt;day"</span><span class="o">,</span>
    <span class="s">"output"</span><span class="o">:</span> <span class="s">"I will remind you to $action on $day"</span>
<span class="o">}</span>
</code></pre></div>



<h2>
  <a href="#conclusion-and-revision" class="anchor">
  </a>
  Conclusion and revision
</h2>

<p>Now we could add an option on each module or even each response that lets the user choose to either use a Regular Expression or an Adapted Expression, and use this function to transform these to those.</p>

<p>Since we had our first functional version, we have added_</p>

<ul>
<li>The possibility to read/write the inner state during the input matching and output generation.</li>
<li>A simplified yet extensible version of the regular expressions for the user. </li>
</ul>

<p>This leaves us with the following issues:</p>

<ul>
<li>We still have to make a scoping system to control the modifications made during a match that was finally not successful.</li>
<li>Add some options to the Pattern deserialization, to choose between Regular or Adapted expressions. </li>
</ul>

<p>As those are tweaks, more than essential features, I will document them in a post about the final tweaks to the library. For now, the next post will be about adding knowledge to our chatbots. We will add a feature to let the user to specify sets of words under concept categories.</p>


<!-- BLOG-POST-LIST:END -->

<h4 align="center">:octocat: Star the repos you like! :octocat:</h4>